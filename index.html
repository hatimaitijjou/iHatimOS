<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iHatimOS - Pro</title>
    <style>
        :root { --main-green: #00ff00; --bg-color: #121212; }
        body { background-color: var(--bg-color); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        
        /* Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¶ÙŠØ¦Ø© */
        #system-clock { color: var(--main-green); font-family: 'Courier New', monospace; font-size: 1.8rem; font-weight: bold; text-shadow: 0 0 10px var(--main-green); text-align: center; padding: 10px; }
        
        .main-layout { display: flex; flex-wrap: wrap; flex: 1; padding: 15px; gap: 15px; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar { flex: 1; min-width: 200px; background: #1e1e1e; padding: 20px; border-radius: 15px; display: flex; flex-direction: column; gap: 12px; }
        .sidebar button { background: #333; color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; text-align: right; transition: 0.3s; font-size: 1rem; }
        .sidebar button:hover { background: var(--main-green); color: black; }
        
        /* Ø§Ù„Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø£Ø¨ÙŠØ¶ Ù„Ù„ÙƒØªØ§Ø¨Ø© */
        .editor-container { flex: 4; min-width: 320px; background: white; color: black; border-radius: 20px; padding: 30px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        #main-editor { min-height: 350px; outline: none; font-size: 1.2rem; line-height: 1.6; }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ (Ù…Ù† ØµÙˆØ±ØªÙƒ) */
        #slash-menu {
            display: none; position: absolute; background: #252525; color: white; border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4); z-index: 1000; width: 220px; border: 1px solid #444; overflow: hidden;
        }
        #slash-menu div { padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #333; transition: 0.2s; }
        #slash-menu div:hover { background: var(--main-green); color: black; }

        .footer { background: #000; text-align: center; padding: 15px; font-size: 0.8rem; color: #777; }
    </style>
</head>
<body>

    <div id="system-clock">00:00:00</div>

    <div class="main-layout">
        <div class="sidebar">
            <h2 style="color: var(--main-green); margin-bottom: 20px;">iHatimOS</h2>
            <button onclick="switchPage('notes')">ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</button>
            <button onclick="switchPage('tasks')">âœ… Ø§Ù„Ù…Ù‡Ø§Ù…</button>
            <button onclick="switchPage('projects')">ğŸ“‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</button>
            <button onclick="saveAll()" style="background: #28a745; color: white; margin-top: 10px;">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button onclick="logout()" style="background: #ff4d4d; margin-top: auto;">ğŸšª Ø®Ø±ÙˆØ¬</button>
        </div>

        <div class="editor-container">
            <h1 id="view-title">Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h1>
            <hr>
            <div id="main-editor" contenteditable="true" onkeyup="handleSlash(event)" oninput="autoSave()">
                Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù‡Ù†Ø§... Ø§Ø³ØªØ®Ø¯Ù… <b>/</b> Ù„Ù„Ø£ÙˆØ§Ù…Ø±.
            </div>
            
            <div id="slash-menu">
                <div onclick="addContent('<h2>ğŸ“Œ Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ</h2>')">ğŸ“Œ H2 - Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ</div>
                <div onclick="addContent('<li>âœ”ï¸ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©: </li>')">âœ”ï¸ Task - Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù…</div>
                <div onclick="addContent('<hr>')">â– Line - Ø®Ø· ÙØ§ØµÙ„</div>
                <div onclick="clearDoc()">ğŸ—‘ï¸ Clear - Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</div>
            </div>
        </div>
    </div>

    <div class="footer">
        ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø­Ø§ØªÙ… Ø§ÙŠØª Ø§Ø¬Ùˆ &copy; 2025
    </div>

    <script>
        // 1. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¶ÙŠØ¦Ø©
        function updateClock() { 
            document.getElementById('system-clock').textContent = new Date().toLocaleTimeString('en-GB'); 
        }
        setInterval(updateClock, 1000); 
        updateClock();

        // 2. Ù†Ø¸Ø§Ù… ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„ÙƒÙ„ ØµÙØ­Ø© Ø¨Ø´ÙƒÙ„ Ù…Ø³ØªÙ‚Ù„
        let pagesData = {
            notes: 'Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª...',
            tasks: '<ul><li>Ù…Ù‡Ù…Ø© 1</li></ul>',
            projects: 'Ù‚Ø§Ø¦Ù…Ø© Ù…Ø´Ø§Ø±ÙŠØ¹Ùƒ Ù‡Ù†Ø§...'
        };
        let currentPage = 'notes';

        // 3. ÙˆØ¸ÙŠÙØ© Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø­ØªÙˆÙ‰
        function switchPage(pageId) {
            pagesData[currentPage] = document.getElementById('main-editor').innerHTML;
            currentPage = pageId;
            const titles = {notes: 'ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª', tasks: 'âœ… Ø§Ù„Ù…Ù‡Ø§Ù…', projects: 'ğŸ“‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹'};
            document.getElementById('view-title').innerText = titles[pageId];
            document.getElementById('main-editor').innerHTML = pagesData[pageId];
        }

        // 4. ÙˆØ¸ÙŠÙØ© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ (Slash Menu) Ù…Ù† ØµÙˆØ±ØªÙƒ
        function handleSlash(e) {
            const editor = document.getElementById('main-editor');
            const menu = document.getElementById('slash-menu');
            
            if (editor.innerText.trim().endsWith('/')) {
                menu.style.display = 'block';
                menu.style.top = '120px'; 
                menu.style.right = '40px';
            } else {
                menu.style.display = 'none';
            }
        }

        // 5. ÙˆØ¸ÙŠÙØ© Ø£Ø²Ø±Ø§Ø± Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ (Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ù…Ù‡Ø§Ù…)
        function addContent(html) {
            const editor = document.getElementById('main-editor');
            editor.innerHTML = editor.innerHTML.replace('/', '') + html;
            document.getElementById('slash-menu').style.display = 'none';
            autoSave();
        }

        // 6. Ø§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙˆØ§Ù„ÙŠØ¯ÙˆÙŠ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
        function autoSave() { 
            pagesData[currentPage] = document.getElementById('main-editor').innerHTML; 
        }

        function saveAll() { 
            localStorage.setItem('iHatimOS_Data', JSON.stringify(pagesData));
            alert("ØªÙ… Ø­ÙØ¸ Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­! âœ…");
        }

        function clearDoc() { 
            if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©ØŸ")) {
                document.getElementById('main-editor').innerHTML = '';
                document.getElementById('slash-menu').style.display = 'none';
            }
        }

        function logout() { 
            if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…ØºØ§Ø¯Ø±Ø© iHatimOSØŸ")) window.location.href="about:blank"; 
        }

        // 7. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹
        window.onload = () => {
            const saved = localStorage.getItem('iHatimOS_Data');
            if(saved) {
                pagesData = JSON.parse(saved);
                document.getElementById('main-editor').innerHTML = pagesData.notes;
            }
        }
    </script>
</body>
</html>
