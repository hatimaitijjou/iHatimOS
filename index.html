
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZENITH OS | Performance Edition</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700&family=Fira+Code:wght@400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #00ff88;
            --secondary: #00d2ff;
            --bg-dark: #121214;
            --win-bg: rgba(20, 20, 25, 0.95); /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© ØµÙ„Ø¨Ø© Ù„Ù„Ø£Ø¯Ø§Ø¡ */
            --border: 1px solid rgba(255,255,255,0.08);
            --dock-bg: rgba(0,0,0,0.8);
            --font-main: 'Tajawal', sans-serif;
            --font-code: 'Fira Code', monospace;
            --shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        * { box-sizing: border-box; user-select: none; font-family: var(--font-main); outline: none; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; overflow: hidden; background: #000; color: #eee; height: 100vh; }

        /* --- Wallpaper (Low Resource) --- */
        #wallpaper {
            position: fixed; inset: 0; z-index: -1;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); /* ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ Ø®ÙÙŠÙ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ØµÙˆØ±Ø© Ø«Ù‚ÙŠÙ„Ø© */
            transition: background 0.5s;
        }
        /* Ù†Ù‚Ø·Ø© ØªØ²ÙŠÙŠÙ†ÙŠØ© Ø®ÙÙŠÙØ© */
        #wallpaper::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.03) 0%, transparent 50%);
            pointer-events: none;
        }

        /* --- Top Bar --- */
        #topbar {
            height: 30px; background: rgba(0,0,0,0.85);
            display: flex; justify-content: space-between; align-items: center; padding: 0 15px;
            border-bottom: var(--border); z-index: 5000; font-size: 0.85rem; letter-spacing: 0.5px;
        }
        .status-item { display: flex; align-items: center; gap: 8px; margin-right: 15px; }

        /* --- Desktop --- */
        #desktop { position: absolute; top: 30px; bottom: 70px; left: 0; right: 0; padding: 20px; display: flex; flex-direction: column; flex-wrap: wrap; gap: 10px; align-content: flex-start; }
        .icon {
            width: 80px; display: flex; flex-direction: column; align-items: center; cursor: pointer;
            padding: 10px; border-radius: 8px; transition: 0.2s; text-align: center;
        }
        .icon:hover { background: rgba(255,255,255,0.1); }
        .icon i { font-size: 2rem; margin-bottom: 8px; filter: drop-shadow(0 4px 4px rgba(0,0,0,0.3)); transition: transform 0.2s; }
        .icon:hover i { transform: scale(1.1); }
        .icon span { font-size: 0.8rem; text-shadow: 0 1px 3px black; }

        /* --- Windows (Optimized) --- */
        .window {
            position: absolute; background: var(--win-bg); border-radius: 8px; border: var(--border);
            display: flex; flex-direction: column; box-shadow: var(--shadow);
            min-width: 300px; min-height: 200px;
            /* Ø§Ø³ØªØ®Ø¯Ø§Ù… GPU Ù„Ù„ØªØ­Ø±ÙŠÙƒ */
            transform: translate3d(0,0,0); 
            will-change: transform, width, height;
            overflow: hidden;
        }
        /* Ø¥Ø²Ø§Ù„Ø© ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø«Ù‚ÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ÙØªØ­ ÙˆØ§Ø³ØªØ¨Ø¯Ø§Ù„Ù‡ Ø¨Ø§Ù„Ø´ÙØ§ÙÙŠØ© ÙÙ‚Ø· Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© Ø§Ù„Ø¶Ø¹ÙŠÙØ© */
        .window.opening { animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }

        .win-head {
            height: 36px; background: rgba(255,255,255,0.03); display: flex; justify-content: space-between; align-items: center;
            padding: 0 10px; cursor: default; border-bottom: var(--border); user-select: none;
        }
        .win-title { font-size: 0.9rem; color: #ccc; pointer-events: none; }
        .win-controls { display: flex; gap: 8px; }
        .dot { width: 12px; height: 12px; border-radius: 50%; cursor: pointer; position: relative; display: flex; justify-content: center; align-items: center; font-size: 8px; color: rgba(0,0,0,0.5); }
        .close { background: #ff5f56; } .min { background: #ffbd2e; } .max { background: #27c93f; }
        .dot:hover { opacity: 0.8; }

        .win-body { flex: 1; position: relative; overflow: hidden; }
        .win-overlay { position: absolute; inset: 0; z-index: 10; display: none; } /* Ù„Ù…Ù†Ø¹ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù€ Iframe Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø³Ø­Ø¨ */

        /* --- Dock --- */
        #dock-container { position: fixed; bottom: 10px; left: 0; right: 0; display: flex; justify-content: center; z-index: 9000; pointer-events: none; }
        #dock {
            pointer-events: auto; background: var(--dock-bg); padding: 8px 15px;
            border-radius: 16px; border: var(--border); display: flex; gap: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.6);
        }
        .dock-item {
            width: 45px; height: 45px; border-radius: 10px; background: rgba(255,255,255,0.05);
            display: flex; align-items: center; justify-content: center; font-size: 1.4rem;
            cursor: pointer; transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: relative;
        }
        .dock-item:hover { transform: translateY(-8px) scale(1.1); background: rgba(255,255,255,0.15); }
        .dock-item:active { transform: scale(0.95); }
        .dock-dot {
            position: absolute; bottom: -4px; width: 4px; height: 4px; background: var(--primary); border-radius: 50%;
            opacity: 0; transition: 0.3s;
        }
        .dock-item.running .dock-dot { opacity: 1; bottom: 2px; }

        /* --- Apps Specific Styles --- */
        .term-box { background: #0c0c0c; color: #0f0; padding: 15px; height: 100%; font-family: var(--font-code); overflow-y: auto; font-size: 0.9rem; }
        .calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; padding: 10px; height: 100%; }
        .calc-btn { background: #333; border: none; color: white; font-size: 1.2rem; border-radius: 5px; cursor: pointer; transition: 0.1s; }
        .calc-btn:active { background: var(--primary); color: black; }
        .calc-display { grid-column: span 4; background: #000; color: white; font-size: 2rem; text-align: right; padding: 10px; border-radius: 5px; margin-bottom: 5px; font-family: monospace; }
        
        .file-explorer { display: flex; height: 100%; }
        .file-sidebar { width: 120px; background: rgba(255,255,255,0.03); padding: 10px; display: flex; flex-direction: column; gap: 5px; }
        .sidebar-item { padding: 8px; border-radius: 5px; cursor: pointer; font-size: 0.9rem; color: #aaa; }
        .sidebar-item:hover, .sidebar-item.active { background: rgba(255,255,255,0.1); color: white; }
        .file-content { flex: 1; padding: 15px; display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); align-content: start; gap: 15px; }
        .file-icon { display: flex; flex-direction: column; align-items: center; gap: 5px; cursor: pointer; }
        .file-icon i { font-size: 2.5rem; color: #ffd700; }
        .file-icon span { font-size: 0.8rem; text-align: center; word-break: break-all; }

        /* --- Boot Screen --- */
        #boot {
            position: fixed; inset: 0; background: #000; z-index: 99999;
            display: flex; align-items: center; justify-content: center; flex-direction: column;
            color: var(--primary); font-family: var(--font-code);
        }
        .loader { width: 50px; height: 50px; border: 3px solid transparent; border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 20px; }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* --- Toast --- */
        #toast {
            position: fixed; bottom: 80px; right: 20px; background: #222; border-right: 3px solid var(--primary);
            padding: 10px 20px; border-radius: 4px; transform: translateX(150%); transition: 0.3s; z-index: 10000;
            box-shadow: 0 5px 15px black;
        }
    </style>
</head>
<body>

    <div id="boot">
        <div class="loader"></div>
        <div id="boot-text">LOADING SYSTEM KERNEL...</div>
    </div>

    <div id="wallpaper"></div>
    
    <div id="topbar">
        <div style="font-weight: 700; color: var(--primary); display: flex; align-items: center; gap: 10px;">
            <i class="fab fa-linux"></i> ZENITH OMEGA <span style="font-size: 0.7em; background: #333; padding: 2px 6px; border-radius: 4px;">LITE</span>
        </div>
        <div style="display: flex;">
            <div class="status-item"><i class="fas fa-microchip"></i> <span id="ram-usage">12%</span></div>
            <div class="status-item"><i class="fas fa-volume-up"></i></div>
            <div class="status-item"><i class="fas fa-wifi"></i></div>
            <div class="status-item" id="clock" style="font-weight: bold;">00:00</div>
        </div>
    </div>

    <div id="desktop"></div>
    <div id="win-layer"></div>

    <div id="dock-container">
        <div id="dock"></div>
    </div>

    <div id="toast">Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯</div>

    <script>
        // --- System Core (Optimized) ---
        const OS = {
            apps: {
                'files': { name: 'Ø§Ù„Ù…Ù„ÙØ§Øª', icon: 'fas fa-folder', color: '#f1c40f', app: 'FilesApp' },
                'browser': { name: 'Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª', icon: 'fas fa-globe', color: '#3498db', app: 'WebApp', url: 'https://bing.com' },
                'term': { name: 'Terminal', icon: 'fas fa-terminal', color: '#2ecc71', app: 'TermApp' },
                'notes': { name: 'Ù…Ù„Ø§Ø­Ø¸Ø§Øª', icon: 'fas fa-sticky-note', color: '#e67e22', app: 'NoteApp' },
                'calc': { name: 'Ø­Ø§Ø³Ø¨Ø©', icon: 'fas fa-calculator', color: '#9b59b6', app: 'CalcApp' },
                'settings': { name: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª', icon: 'fas fa-cog', color: '#95a5a6', app: 'SettingsApp' },
                'monitor': { name: 'Ø§Ù„Ù…ÙˆØ§Ø±Ø¯', icon: 'fas fa-chart-area', color: '#e74c3c', app: 'MonitorApp' }
            },
            
            // Ø­Ø§Ù„Ø© Ø§Ù„Ù†Ø¸Ø§Ù…
            windows: {}, // ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…ÙØªÙˆØ­Ø©
            activeWindow: null,
            zIndex: 100,

            init() {
                this.renderDesktop();
                this.startClock();
                this.bootSim();
            },

            bootSim() {
                const msgs = ["Mounting Drives...", "Allocating RAM...", "Starting UI...", "Welcome"];
                let i = 0;
                const txt = document.getElementById('boot-text');
                const int = setInterval(() => {
                    if(i >= msgs.length) {
                        clearInterval(int);
                        document.getElementById('boot').style.display = 'none';
                        this.notify("ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø¬Ø§Ø­ ğŸš€");
                    } else {
                        txt.innerText = msgs[i++];
                    }
                }, 400);
            },

            renderDesktop() {
                const d = document.getElementById('desktop');
                const dock = document.getElementById('dock');
                
                Object.keys(this.apps).forEach(key => {
                    const app = this.apps[key];
                    // Desktop Icon
                    d.innerHTML += `
                        <div class="icon" onclick="WM.toggle('${key}')">
                            <i class="${app.icon}" style="color:${app.color}"></i>
                            <span>${app.name}</span>
                        </div>`;
                    
                    // Dock Icon
                    dock.innerHTML += `
                        <div class="dock-item" id="dock-${key}" onclick="WM.toggle('${key}')">
                            <i class="${app.icon}" style="color:${app.color}"></i>
                            <div class="dock-dot"></div>
                        </div>`;
                });
            },

            startClock() {
                const update = () => {
                    const now = new Date();
                    document.getElementById('clock').innerText = now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
                    // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø±Ø§Ù… Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                    if(Math.random() > 0.5) document.getElementById('ram-usage').innerText = Math.floor(10 + Math.random() * 20) + '%';
                };
                setInterval(update, 2000); // ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø«Ø§Ù†ÙŠØªÙŠÙ† Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬
                update();
            },

            notify(msg) {
                const t = document.getElementById('toast');
                t.innerText = msg;
                t.style.transform = 'translateX(0)';
                setTimeout(() => t.style.transform = 'translateX(150%)', 3000);
            }
        };

        // --- Window Manager (Hardware Accelerated) ---
        const WM = {
            toggle(key) {
                if (OS.windows[key]) {
                    // Ø§Ù„Ù†Ø§ÙØ°Ø© Ù…ÙˆØ¬ÙˆØ¯Ø©
                    const win = OS.windows[key].el;
                    if (win.style.display === 'none') {
                        // Ø§Ø³ØªØ¹Ø§Ø¯Ø©
                        this.restore(key);
                    } else {
                        // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù†Ø´Ø·Ø© -> ØªØµØºÙŠØ±ØŒ ÙˆØ¥Ù„Ø§ -> ØªÙ†Ø´ÙŠØ·
                        if (OS.activeWindow === key) this.minimize(key);
                        else this.activate(key);
                    }
                } else {
                    // ÙØªØ­ Ø¬Ø¯ÙŠØ¯
                    this.open(key);
                }
            },

            open(key) {
                const app = OS.apps[key];
                const id = `win-${key}`;
                const win = document.createElement('div');
                win.className = 'window opening';
                win.id = id;
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Random Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªØ±Ø§ÙƒØ¨)
                const startX = 50 + (Math.random() * 50);
                const startY = 50 + (Math.random() * 50);
                win.style.left = startX + 'px';
                win.style.top = startY + 'px';
                win.style.width = '600px';
                win.style.height = '450px';
                win.style.zIndex = ++OS.zIndex;

                win.innerHTML = `
                    <div class="win-head" onmousedown="WM.startDrag(event, '${id}', '${key}')">
                        <div class="win-title">${app.name}</div>
                        <div class="win-controls">
                            <div class="dot min" onclick="WM.minimize('${key}')"></div>
                            <div class="dot max" onclick="WM.maximize('${key}')"></div>
                            <div class="dot close" onclick="WM.close('${key}')"></div>
                        </div>
                    </div>
                    <div class="win-body">
                        <div class="win-overlay" id="overlay-${key}"></div>
                        ${Apps[app.app](app)}
                    </div>
                `;

                // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡Ø§
                win.onmousedown = () => this.activate(key);

                document.getElementById('win-layer').appendChild(win);
                OS.windows[key] = { el: win, maximized: false, rect: {x: startX, y: startY, w: 600, h: 450} };
                
                document.getElementById(`dock-${key}`).classList.add('running');
                this.activate(key);
                
                // Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„Ø§Ø³ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
                setTimeout(() => win.classList.remove('opening'), 200);
            },

            close(key) {
                if(OS.windows[key]) {
                    OS.windows[key].el.remove();
                    delete OS.windows[key];
                    document.getElementById(`dock-${key}`).classList.remove('running');
                    OS.activeWindow = null;
                }
            },

            minimize(key) {
                OS.windows[key].el.style.display = 'none';
            },

            restore(key) {
                const w = OS.windows[key].el;
                w.style.display = 'flex';
                this.activate(key);
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¸Ù‡ÙˆØ±
                w.classList.remove('opening');
                void w.offsetWidth; // Trigger Reflow
                w.classList.add('opening');
            },

            maximize(key) {
                const w = OS.windows[key];
                if(w.maximized) {
                    w.el.style.inset = ''; // Reset
                    w.el.style.width = w.rect.w + 'px';
                    w.el.style.height = w.rect.h + 'px';
                    w.el.style.left = w.rect.x + 'px';
                    w.el.style.top = w.rect.y + 'px';
                    w.el.style.borderRadius = '8px';
                    w.maximized = false;
                } else {
                    // Save state
                    w.rect.x = parseFloat(w.el.style.left);
                    w.rect.y = parseFloat(w.el.style.top);
                    w.rect.w = parseFloat(w.el.style.width);
                    w.rect.h = parseFloat(w.el.style.height);
                    
                    w.el.style.left = '0'; w.el.style.top = '30px';
                    w.el.style.width = '100%'; w.el.style.height = 'calc(100% - 40px)'; // Account for dock
                    w.el.style.borderRadius = '0';
                    w.maximized = true;
                }
            },

            activate(key) {
                if(OS.windows[key]) {
                    OS.windows[key].el.style.zIndex = ++OS.zIndex;
                    OS.activeWindow = key;
                    // ØªÙ„ÙˆÙŠÙ† ÙƒÙ„ Ø§Ù„Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ø¯ÙˆÙƒ Ø¨Ø§Ù„Ø£Ø¨ÙŠØ¶ Ù…Ø§ Ø¹Ø¯Ø§ Ø§Ù„Ù†Ø´Ø·
                    document.querySelectorAll('.dock-item').forEach(d => d.style.background = 'rgba(255,255,255,0.05)');
                    document.getElementById(`dock-${key}`).style.background = 'rgba(255,255,255,0.15)';
                }
            },

            // --- Optimized Dragging ---
            startDrag(e, id, key) {
                if(e.target.closest('.win-controls')) return; // Ù„Ø§ ØªØ³Ø­Ø¨ Ø¥Ø°Ø§ Ø¶ØºØ·Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                if(OS.windows[key].maximized) return;

                const win = document.getElementById(id);
                // ØªÙØ¹ÙŠÙ„ Ø·Ø¨Ù‚Ø© Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù„Ù…Ù†Ø¹ Ø§Ù„Ù€ iframe Ù…Ù† Ø³Ø±Ù‚Ø© Ø§Ù„Ù…Ø§ÙˆØ³
                const overlay = document.getElementById(`overlay-${key}`);
                if(overlay) overlay.style.display = 'block';

                const startX = e.clientX;
                const startY = e.clientY;
                const rect = win.getBoundingClientRect();
                const initialLeft = rect.left;
                const initialTop = rect.top;

                const onMove = (ev) => {
                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯
                    let newLeft = initialLeft + (ev.clientX - startX);
                    let newTop = initialTop + (ev.clientY - startY);

                    // Ù…Ù†Ø¹ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© (Boundary Check)
                    if (newTop < 30) newTop = 30; // ØªØ­Øª Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ
                    if (newTop > window.innerHeight - 50) newTop = window.innerHeight - 50;
                    if (newLeft < -win.offsetWidth + 50) newLeft = -win.offsetWidth + 50;
                    if (newLeft > window.innerWidth - 50) newLeft = window.innerWidth - 50;

                    win.style.left = newLeft + 'px';
                    win.style.top = newTop + 'px';
                };

                const onUp = () => {
                    document.removeEventListener('mousemove', onMove);
                    document.removeEventListener('mouseup', onUp);
                    if(overlay) overlay.style.display = 'none';
                };

                document.addEventListener('mousemove', onMove);
                document.addEventListener('mouseup', onUp);
            }
        };

        // --- Application Logic ---
        const Apps = {
            WebApp: (app) => `<iframe src="${app.url}" style="width:100%; height:100%; border:none; background:white;"></iframe>`,
            
            TermApp: () => `
                <div class="term-box" onclick="document.getElementById('cmd-in').focus()">
                    <div style="color:var(--secondary)">ZENITH OMEGA [Lite Kernel 2.4]</div>
                    <div>Type 'help' for commands.</div><br>
                    <div id="term-log"></div>
                    <div style="display:flex;">
                        <span>root@lite:~# </span>
                        <input id="cmd-in" type="text" style="background:transparent; border:none; color:inherit; flex:1; margin-left:5px;" 
                        onkeydown="if(event.key==='Enter') Apps.runCmd(this)">
                    </div>
                </div>`,
            
            runCmd: (el) => {
                const val = el.value.trim();
                const log = document.getElementById('term-log');
                log.innerHTML += `<div>root@lite:~# ${val}</div>`;
                el.value = '';
                
                let res = '';
                if(val === 'help') res = 'cmds: clear, reboot, date, calc, ls';
                else if(val === 'clear') { log.innerHTML = ''; return; }
                else if(val === 'reboot') location.reload();
                else if(val === 'date') res = new Date().toLocaleString();
                else if(val === 'ls') res = 'Documents  Downloads  Pictures  System32';
                else res = `bash: ${val}: command not found`;
                
                log.innerHTML += `<div style="color:#aaa; margin-bottom:5px;">${res}</div>`;
                el.parentElement.parentElement.scrollTop = 10000;
            },

            NoteApp: () => `<textarea style="width:100%; height:100%; background:#1e1e1e; color:#eee; border:none; padding:15px; font-size:1.1rem; resize:none;" placeholder="Ø§ÙƒØªØ¨ Ø£ÙÙƒØ§Ø±Ùƒ Ù‡Ù†Ø§..."></textarea>`,

            CalcApp: () => {
                const btns = ['C', '/', '*', '<-', '7', '8', '9', '-', '4', '5', '6', '+', '1', '2', '3', '=', '0', '.'];
                let html = '<div class="calc-grid"><div class="calc-display" id="c-disp">0</div>';
                btns.forEach(b => {
                    let click = `document.getElementById('c-disp').innerText += '${b}'`;
                    if(b === 'C') click = `document.getElementById('c-disp').innerText = ''`;
                    if(b === '=') click = `try{document.getElementById('c-disp').innerText = eval(document.getElementById('c-disp').innerText)}catch(e){document.getElementById('c-disp').innerText='Error'}`;
                    if(b === '<-') click = `let s=document.getElementById('c-disp').innerText; document.getElementById('c-disp').innerText=s.substring(0,s.length-1)`;
                    
                    html += `<button class="calc-btn" style="${b==='='?'grid-column:span 2; background:var(--primary)':''}" onclick="${click}">${b}</button>`;
                });
                return html + '</div>';
            },

            SettingsApp: () => `
                <div style="padding:20px;">
                    <h3>Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h3>
                    <p>Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù…:</p>
                    <div style="display:flex; gap:10px;">
                        <div onclick="document.getElementById('wallpaper').style.background='linear-gradient(135deg, #0f0c29, #302b63, #24243e)'" style="width:50px; height:50px; background:linear-gradient(135deg, #0f0c29, #302b63); border-radius:5px; cursor:pointer; border:1px solid white;"></div>
                        <div onclick="document.getElementById('wallpaper').style.background='#111'" style="width:50px; height:50px; background:#111; border-radius:5px; cursor:pointer; border:1px solid #333;"></div>
                        <div onclick="document.getElementById('wallpaper').style.background='linear-gradient(45deg, #11998e, #38ef7d)'" style="width:50px; height:50px; background:linear-gradient(45deg, #11998e, #38ef7d); border-radius:5px; cursor:pointer; border:1px solid white;"></div>
                    </div>
                </div>
            `,

            MonitorApp: () => `
                <div style="padding:20px; text-align:center;">
                    <div style="font-size:3rem; color:var(--primary); font-family:monospace;" id="cpu-mon">0%</div>
                    <div>CPU Usage</div>
                    <hr style="border-color:#333; margin:20px 0;">
                    <div style="height:10px; background:#333; border-radius:5px; overflow:hidden;">
                        <div id="ram-bar" style="height:100%; background:var(--secondary); width:20%;"></div>
                    </div>
                    <div style="margin-top:5px;">RAM Usage</div>
                    <script>
                        setInterval(()=>{
                            document.getElementById('cpu-mon').innerText = Math.floor(Math.random()*30) + '%';
                            document.getElementById('ram-bar').style.width = Math.floor(20 + Math.random()*20) + '%';
                        }, 1000);
                    <\/script>
                </div>
            `,

            FilesApp: () => `
                <div class="file-explorer">
                    <div class="file-sidebar">
                        <div class="sidebar-item active"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
                        <div class="sidebar-item"><i class="fas fa-download"></i> Ø§Ù„ØªÙ†Ø²ÙŠÙ„Ø§Øª</div>
                        <div class="sidebar-item"><i class="fas fa-image"></i> Ø§Ù„ØµÙˆØ±</div>
                    </div>
                    <div class="file-content">
                        <div class="file-icon"><i class="fas fa-folder"></i><span>Ù…Ø´Ø±ÙˆØ¹Ø§Øª</span></div>
                        <div class="file-icon"><i class="fas fa-file-code" style="color:#00d2ff"></i><span>index.html</span></div>
                        <div class="file-icon"><i class="fas fa-file-alt" style="color:#ddd"></i><span>todo.txt</span></div>
                        <div class="file-icon"><i class="fas fa-music" style="color:#e74c3c"></i><span>song.mp3</span></div>
                    </div>
                </div>
            `
        };

        // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
        OS.init();

    </script>
</body>
</html>
