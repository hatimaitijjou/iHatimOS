<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iHatimOS Pro - Slash Edition</title>
    <style>
        body { background-color: #121212; color: white; font-family: 'Segoe UI', sans-serif; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        #hatim-clock { color: #00ff00; font-family: 'Courier New', monospace; font-size: 1.8rem; font-weight: bold; text-shadow: 0 0 10px #00ff00; text-align: center; padding: 10px; }
        
        .main-container { display: flex; flex-wrap: wrap; flex: 1; padding: 15px; gap: 15px; }
        .sidebar { flex: 1; min-width: 200px; background: #1e1e1e; padding: 20px; border-radius: 15px; display: flex; flex-direction: column; gap: 12px; }
        .sidebar button { background: #333; color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; text-align: right; transition: 0.3s; font-size: 1rem; }
        .sidebar button:hover { background: #00ff00; color: black; transform: scale(1.02); }
        
        .white-board { flex: 4; min-width: 320px; background: white; color: black; border-radius: 20px; padding: 30px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        #editor { min-height: 350px; outline: none; font-size: 1.2rem; line-height: 1.6; }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© */
        #slash-menu {
            display: none; position: absolute; background: #252525; color: white; border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4); z-index: 1000; width: 220px; overflow: hidden; border: 1px solid #444;
        }
        #slash-menu div { padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #333; display: flex; align-items: center; gap: 10px; }
        #slash-menu div:hover { background: #00ff00; color: black; }

        .stats { font-size: 0.8rem; color: #666; margin-top: 15px; text-align: left; border-top: 1px solid #eee; padding-top: 10px; }
        .footer { background: #000; text-align: center; padding: 15px; font-size: 0.9rem; color: #aaa; }
    </style>
</head>
<body>

    <div id="hatim-clock">00:00:00</div>

    <div class="main-container">
        <div class="sidebar">
            <h2 style="color: #00ff00; margin: 0 0 10px 0;">iHatimOS Pro</h2>
            <button onclick="changeTitle('ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙŠ Ø§Ù„Ø°ÙƒÙŠØ©')">ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</button>
            <button onclick="changeTitle('âœ… Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…')">âœ… Ø§Ù„Ù…Ù‡Ø§Ù…</button>
            <button onclick="changeTitle('ğŸ“‚ Ù…Ø´Ø§Ø±ÙŠØ¹ Ø­Ø§ØªÙ…')">ğŸ“‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</button>
            <button onclick="saveData()" style="background: #28a745; color: white;">ğŸ’¾ Ø­ÙØ¸ ÙŠØ¯ÙˆÙŠ</button>
            <button onclick="logout()" style="background: #ff4d4d; margin-top: auto;">ğŸšª Ø®Ø±ÙˆØ¬ Ø¢Ù…Ù†</button>
        </div>

        <div class="white-board">
            <h1 id="page-title">Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙŠ</h1>
            <hr>
            <div id="editor" contenteditable="true" oninput="handleInput(event)" onkeyup="checkSlash(event)">
                Ø§ÙƒØªØ¨ <b>/</b> Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø³Ø±ÙŠØ¹Ø©...
            </div>
            
            <div id="slash-menu">
                <div onclick="execCommand('<h2>Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯...</h2>')">ğŸ“Œ H2 - Ø¹Ù†ÙˆØ§Ù† ÙØ±Ø¹ÙŠ</div>
                <div onclick="execCommand('<li>â€¢ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...</li>')">âœ”ï¸ Task - Ù‚Ø§Ø¦Ù…Ø© Ù…Ù‡Ø§Ù…</div>
                <div onclick="execCommand('<hr>')">â– Line - Ø®Ø· ÙØ§ØµÙ„</div>
                <div onclick="document.getElementById('editor').innerHTML = ''; hideMenu();">ğŸ—‘ï¸ Clear - Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</div>
            </div>

            <div class="stats">Ø§Ù„ÙƒÙ„Ù…Ø§Øª: <span id="word-count">0</span> | ØªÙ… Ø§Ù„Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ âœ…</div>
        </div>
    </div>

    <div class="footer">ØµÙ†Ø¹ Ø¨ÙƒÙ„ ÙØ®Ø± Ù…Ù† Ø·Ø±Ù Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ø­Ø§ØªÙ… Ø§ÙŠØª Ø§Ø¬Ùˆ</div>

    <script>
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ù…Ø³ØªÙ…Ø±
        function updateClock() { document.getElementById('hatim-clock').textContent = new Date().toLocaleTimeString('en-GB'); }
        setInterval(updateClock, 1000); updateClock();

        // Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ù„Ø§Ø´ commands
        function checkSlash(e) {
            const editor = document.getElementById('editor');
            const menu = document.getElementById('slash-menu');
            const selection = window.getSelection();
            
            if (editor.innerText.endsWith('/')) {
                menu.style.display = 'block';
                menu.style.top = '120px'; 
                menu.style.right = '30px';
            } else if (e.key === 'Escape') { hideMenu(); }
        }

        function execCommand(html) {
            const editor = document.getElementById('editor');
            editor.innerHTML = editor.innerHTML.replace('/', '') + html;
            hideMenu();
            saveData();
        }

        function hideMenu() { document.getElementById('slash-menu').style.display = 'none'; }

        // Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„Ø­ÙØ¸ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        function handleInput() {
            const text = document.getElementById('editor').innerText;
            const words = text.trim().split(/\s+/).filter(w => w.length > 0).length;
            document.getElementById('word-count').innerText = words;
            localStorage.setItem('hatim_pro_data', document.getElementById('editor').innerHTML);
        }

        function changeTitle(t) { document.getElementById('page-title').innerText = t; }
        function saveData() { localStorage.setItem('hatim_pro_data', document.getElementById('editor').innerHTML); alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…! âœ…"); }
        function logout() { if(confirm("Ù‡Ù„ ØªÙˆØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† iHatimOSØŸ")) window.location.href="about:blank"; }

        window.onload = () => {
            const saved = localStorage.getItem('hatim_pro_data');
            if(saved) { document.getElementById('editor').innerHTML = saved; handleInput(); }
        }
    </script>
</body>
</html>
