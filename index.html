<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iHatimOS - Ù…Ù†ØµØ© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ©</title>
    <style>
        :root { --main-green: #00ff00; --bg-color: #121212; --panel-color: #1e1e1e; }
        body { background-color: var(--bg-color); color: white; font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; display: flex; flex-direction: column; min-height: 100vh; }
        
        /* Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© Ø§Ù„Ù…Ø¶ÙŠØ¦Ø© */
        #system-clock { color: var(--main-green); font-family: 'Courier New', monospace; font-size: 1.8rem; font-weight: bold; text-shadow: 0 0 10px var(--main-green); text-align: center; padding: 10px; }
        
        .main-layout { display: flex; flex-wrap: wrap; flex: 1; padding: 15px; gap: 15px; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„Ù„Ø£Ø²Ø±Ø§Ø± */
        .sidebar { flex: 1; min-width: 200px; background: var(--panel-color); padding: 20px; border-radius: 15px; display: flex; flex-direction: column; gap: 12px; }
        .sidebar button { background: #333; color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; text-align: right; font-size: 1rem; transition: 0.3s; }
        .sidebar button:hover { background: var(--main-green); color: black; }
        
        /* Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¨ÙŠØ¶Ø§Ø¡ Ù„Ù„ÙƒØªØ§Ø¨Ø© (Ø§Ù„Ø·Ø§Ø¨Ø¹ Ø§Ù„Ù‚Ø¯ÙŠÙ…) */
        .editor-container { flex: 4; min-width: 320px; background: white; color: black; border-radius: 20px; padding: 30px; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        #main-editor { min-height: 350px; outline: none; font-size: 1.2rem; line-height: 1.6; }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ù„Ø§Ø´ */
        #slash-menu {
            display: none; position: absolute; background: #252525; color: white; border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.4); z-index: 1000; width: 220px; border: 1px solid #444;
        }
        #slash-menu div { padding: 12px 15px; cursor: pointer; border-bottom: 1px solid #333; }
        #slash-menu div:hover { background: var(--main-green); color: black; }

        .stats-bar { font-size: 0.8rem; color: #666; margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px; display: flex; justify-content: space-between; }
        .footer { background: #000; text-align: center; padding: 15px; font-size: 0.8rem; color: #777; }
    </style>
</head>
<body>

    <div id="system-clock">00:00:00</div>

    <div class="main-layout">
        <div class="sidebar">
            <h2 style="color: var(--main-green); margin: 0 0 15px 0;">iHatimOS</h2>
            <button onclick="updateView('ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª')">ğŸ“ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</button>
            <button onclick="updateView('âœ… Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ©')">âœ… Ø§Ù„Ù…Ù‡Ø§Ù…</button>
            <button onclick="updateView('ğŸ“‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹')">ğŸ“‚ Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹</button>
            <button onclick="saveContent()" style="background: #28a745; color: white;">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
            <button onclick="userLogout()" style="background: #ff4d4d; margin-top: auto;">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
        </div>

        <div class="editor-container">
            <h1 id="view-title">Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h1>
            <hr>
            <div id="main-editor" contenteditable="true" oninput="runLogic()" onkeyup="handleSlash(event)">
                Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù‡Ù†Ø§ØŒ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… <b>/</b> Ù„Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø³Ø±ÙŠØ¹Ø©...
            </div>
            
            <div id="slash-menu">
                <div onclick="applyCmd('<h2>Ø¹Ù†ÙˆØ§Ù† Ø¬Ø¯ÙŠØ¯...</h2>')">ğŸ“Œ H2 - Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù†</div>
                <div onclick="applyCmd('<li>â€¢ Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...</li>')">âœ”ï¸ Task - Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø©</div>
                <div onclick="applyCmd('<hr>')">â– Line - Ø®Ø· ÙØ§ØµÙ„</div>
                <div onclick="clearAll()">ğŸ—‘ï¸ Clear - Ù…Ø³Ø­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</div>
            </div>

            <div class="stats-bar">
                <span>Ø§Ù„ÙƒÙ„Ù…Ø§Øª: <span id="word-count">0</span></span>
                <span>Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² âœ…</span>
            </div>
        </div>
    </div>

    <div class="footer">
        ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø­Ø§ØªÙ… Ø§ÙŠØª Ø§Ø¬Ùˆ &copy; 2025
    </div>

    <script>
        function updateClock() { document.getElementById('system-clock').textContent = new Date().toLocaleTimeString('en-GB'); }
        setInterval(updateClock, 1000); updateClock();

        function handleSlash(e) {
            const editor = document.getElementById('main-editor');
            const menu = document.getElementById('slash-menu');
            if (editor.innerText.endsWith('/')) {
                menu.style.display = 'block';
                menu.style.top = '100px'; menu.style.right = '40px';
            } else { menu.style.display = 'none'; }
        }

        function applyCmd(html) {
            const editor = document.getElementById('main-editor');
            editor.innerHTML = editor.innerHTML.replace('/', '') + html;
            document.getElementById('slash-menu').style.display = 'none';
            saveContent();
        }

        function runLogic() {
            const text = document.getElementById('main-editor').innerText;
            const words = text.trim().split(/\s+/).filter(w => w.length > 0).length;
            document.getElementById('word-count').innerText = words;
            localStorage.setItem('hatim_os_user_data', document.getElementById('main-editor').innerHTML);
        }

        function updateView(title) { document.getElementById('view-title').innerText = title; }
        function saveContent() { localStorage.setItem('hatim_os_user_data', document.getElementById('main-editor').innerHTML); alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­!"); }
        function clearAll() { if(confirm("Ø³ÙŠØªÙ… Ù…Ø³Ø­ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ")) { document.getElementById('main-editor').innerHTML = ''; document.getElementById('slash-menu').style.display = 'none'; } }
        function userLogout() { if(confirm("Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…ØºØ§Ø¯Ø±Ø© Ø§Ù„Ù†Ø¸Ø§Ù…ØŸ")) window.location.href="about:blank"; }

        window.onload = () => {
            const data = localStorage.getItem('hatim_os_user_data');
            if(data) document.getElementById('main-editor').innerHTML = data;
            runLogic();
        }
    </script>
</body>
</html>
